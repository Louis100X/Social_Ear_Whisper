<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
     <!--Import Google Icon Font-->
     <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
     <!--Import materialize.css-->
     <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
     <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
     <link rel = 'stylesheet' type = 'text/css' href = './assets/css/style.css'>
    <title>Social Ear Whisper</title>
</head>
<body>
  <nav>
    <div class="nav-wrapper">
      <p class="brand-logo center" id = "title">Social Ear Whisper</p>
      <i class= 'exampleQuote1'>"If one door closes and another door opens... your house is probably haunted."</i></p>
    </div>
  </nav>
  <div class="container">
      <h1 class = 'header'>Welcome!</h1>
      <i class= 'exampleQuote2'>"Don't cry because it's over, smile because it happened." -- Dr. Seuss</i>
  </div>
  
​
  <div class="input-field col s12">
    <select id="Qtype">
      <option value="" disabled selected>Interesting options</option>
      <option value="9">General</option>
      <option value="10">Books</option>
      <option value="11">Film</option>
      <option value="12">Music</option>
      <option value="13">Broadway/Musicals</option>
      <option value="14">TV</option>
      <option value="15">Video Games</option>
      <option value="16">Board Games</option>
      <option value="17">Science</option>
      <option value="18">Computers</option>
      <option value="19">Math</option>
      <option value="20">Mythology</option>
      <option value="21">Sports</option>
      <option value="22">Geography</option>
      <option value="23">Politics</option>
      <option value="24">History</option>
      <option value="25">Art</option>
      <option value="26">Celebs</option>
      <option value="27">Animals</option>
      <option value="28">Vehicles</option>
      <option value="29">Comics</option>
      <option value="30">Gadgets</option>
      <option value="31">Anime/Manga</option>
      <option value="31">Cartoons</option>
    </select>
   
  </div>
​
  <div class="input-field2 col s12">
    <select id="option">
      <option value="" disabled selected>Funny options</option>
      <option value="random">One Joke</option>
      <option value="ten">Ten Jkes</option>
    </select>
    
  </div>
  <button id="clear">Resets</button>
  <div id= "renderContent">
​
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script text="text/javascript">
      // Universal Variables
      var dropdwn = $('#Qtype');
​
      var jokeOp = $('#option');
​
      var resetBtn = $('#clear');
​
      dropdwn.change("click", function (event) {
          event.preventDefault();
          renderTriviaData();
      });
​
​
      jokeOp.change("click", function (event) {
          event.preventDefault();
          renderJokeData();
      });
​
      resetBtn.on('click', function (event) {
​
          $('#container').empty();
      });
​
      function renderTriviaData() {
          // gets values for URL based on count and type
          var jokeCount = "5";
          var type = $('#Qtype').val();
          var triviaURL = "https://opentdb.com/api.php?amount=" + jokeCount + "&category=" + type + "&difficulty=easy&encode=url3986"
​
          console.log(type)
          $.ajax({
​
              url: triviaURL,
              method: "GET"
          })
              .then(function (response) {
                  console.log(response)
                  fiveQData = response.results
                  for (i = 0; i < fiveQData.length; i++) {
                      var contentDiv = $('#container')
                      var qContent = $('<h1>')
                      var aContent = $('<p>')
​
                      var question = decodeURIComponent(response.results[i].question);
                      var answer = decodeURIComponent(response.results[i].correct_answer);
​
                      qContent.text(question);
                      aContent.text(answer);
​
                      contentDiv.append(qContent);
                      contentDiv.append(aContent);
​
                      console.log(question);
                      console.log(answer);
                  };
              });
      }
​
      function renderJokeData() {
          // jokes API URL
          category = $('#option').val();
​
          jokeURL = 'https://official-joke-api.appspot.com/jokes/' + category;
          $.ajax({
​
              url: jokeURL,
              method: "GET"
          })
              .then(function (response) {
                  console.log(response)
                  var jokeData = response
                  if (category === 'ten') {
                      for (i = 0; i < jokeData.length; i++) {
​
                          var contentDiv = $('#container')
                          var qContent = $('<h1>')
                          var aContent = $('<p>')
​
                          var jokeSetup = response[i].setup;
                          var jokePayoff = response[i].punchline;
​
                          qContent.text(jokeSetup);
                          aContent.text(jokePayoff);
​
                          contentDiv.append(qContent);
                          contentDiv.append(aContent);
                      };
                  } else if (category === 'random') {
                      var contentDiv = $('#container')
                      var qContent = $('<h1>')
                      var aContent = $('<p>')
​
                      var jokeSetup = response.setup;
                      var jokePayoff = response.punchline;
​
                      qContent.text(jokeSetup);
                      aContent.text(jokePayoff);
​
                      contentDiv.append(qContent);
                      contentDiv.append(aContent);
​
                  }
​
              });
      };
​
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
</body>



    <script src="./assets/js/script.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>  
</body>
</html>